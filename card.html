<!DOCTYPE html>
<html>
<head>
    <title>FIOR Card - FINAL FIX</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .success { color: #4CAF50; font-weight: bold; }
        .param { background: #e3f2fd; padding: 10px; margin: 5px 0; border-left: 4px solid #2196F3; }
        .media { background: #fff3e0; padding: 10px; margin: 5px 0; border-left: 4px solid #FF9800; }
        code { background: #f5f5f5; padding: 2px 5px; border-radius: 3px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ FIOR CARD - FINAL FIX</h1>
        
        <div id="result"></div>
        
        <hr>
        
        <h3>üîç Live Debug Info:</h3>
        <div id="debug" style="background: #1e1e1e; color: #00ff00; padding: 20px; border-radius: 5px; font-family: monospace; white-space: pre-wrap;"></div>
    </div>

    <script>
        (function() {
            const debug = document.getElementById('debug');
            const result = document.getElementById('result');
            const params = new URLSearchParams(window.location.search);
            
            let log = 'üìå URL: ' + window.location.href + '\n\n';
            log += 'üìå RAW PARAMETERS:\n';
            
            // Tampilkan semua parameter
            const allParams = {};
            for (let [key, value] of params.entries()) {
                allParams[key] = value;
                log += `   ${key} = ${value}\n`;
            }
            
            log += '\nüìå EXTRACTING MEDIA:\n';
            
            // ===== METODE 1: Langsung baca satu per satu =====
            const mediaList = [];
            
            // Baca media (parameter pertama)
            if (params.get('media')) {
                mediaList.push(params.get('media'));
                log += `   ‚úÖ media = ${params.get('media')}\n`;
            }
            
            // Baca media2
            if (params.get('media2')) {
                mediaList.push(params.get('media2'));
                log += `   ‚úÖ media2 = ${params.get('media2')}\n`;
            }
            
            // Baca media3
            if (params.get('media3')) {
                mediaList.push(params.get('media3'));
                log += `   ‚úÖ media3 = ${params.get('media3')}\n`;
            }
            
            // Baca media4 - media10 (untuk jaga-jaga)
            for (let i = 4; i <= 10; i++) {
                if (params.get(`media${i}`)) {
                    mediaList.push(params.get(`media${i}`));
                    log += `   ‚úÖ media${i} = ${params.get(`media${i}`)}\n`;
                }
            }
            
            log += `\nüìä TOTAL MEDIA: ${mediaList.length}\n\n`;
            log += 'üìã MEDIA LIST:\n';
            mediaList.forEach((url, index) => {
                log += `   ${index + 1}. ${url}\n`;
            });
            
            // Tampilkan di halaman
            debug.textContent = log;
            
            // Tampilkan hasil di atas
            result.innerHTML = `
                <h2 class="success">‚úÖ HASIL DETEKSI:</h2>
                <p><strong>Total Media:</strong> ${mediaList.length}</p>
                <div style="background: #f5f5f5; padding: 15px; border-radius: 5px;">
                    ${mediaList.map((url, i) => `
                        <div class="media">
                            <strong>Media ${i+1}:</strong><br>
                            <code>${url}</code><br>
                            <a href="${url}" target="_blank">üîó Buka</a>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Log ke console
            console.log('üìä FINAL MEDIA LIST:', mediaList);
            console.log('üìå ALL PARAMS:', allParams);
        })();
    </script>
</body>
</html>
