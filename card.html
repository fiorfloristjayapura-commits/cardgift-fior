<!DOCTYPE html>
<html>
<head>
    <title>FIOR Card - DEBUG FIXED</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #f5f5f5; }
        .success { color: green; font-weight: bold; }
        .param-item { background: white; padding: 8px; margin: 4px 0; border-left: 4px solid #4CAF50; }
        .media-item { background: #e3f2fd; padding: 8px; margin: 4px 0; border-left: 4px solid #2196F3; }
    </style>
</head>
<body>
    <h1>ğŸ” DEBUG: Multiple Media Test (FIXED)</h1>
    <div id="output" style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></div>

    <script>
        // Tangkap semua parameter URL
        const params = new URLSearchParams(window.location.search);
        const output = document.getElementById('output');
        
        let html = '<h2>ğŸ“Œ SEMUA PARAMETER URL:</h2>';
        
        // Tampilkan semua parameter yang ada
        for (let [key, value] of params.entries()) {
            html += `<div class="param-item">ğŸ”¹ <strong>${key}</strong> = ${value}</div>`;
        }
        
        html += '<h2 style="margin-top:30px;">ğŸ“Œ MEDIA YANG DITEMUKAN (dengan loop):</h2>';
        
        // Cara 1: Loop traditional
        const mediaList = [];
        let i = 1;
        
        // Cek media (parameter pertama)
        if (params.get('media')) {
            mediaList.push(params.get('media'));
            html += `<div class="media-item">âœ… <strong>media</strong> = ${params.get('media')}</div>`;
        }
        
        // Loop untuk media1, media2, media3, dst.
        while (params.get(`media${i}`)) {
            const url = params.get(`media${i}`);
            mediaList.push(url);
            html += `<div class="media-item">âœ… <strong>media${i}</strong> = ${url}</div>`;
            i++;
        }
        
        html += `<h2 style="margin-top:30px;">ğŸ“Š TOTAL MEDIA: <span class="success">${mediaList.length}</span></h2>`;
        
        html += '<h2>ğŸ“‹ DAFTAR MEDIA (array):</h2>';
        mediaList.forEach((url, idx) => {
            html += `<div class="media-item">ğŸ“Œ ${idx + 1}. ${url}</div>`;
        });
        
        html += `<h2 style="margin-top:30px;">ğŸ”— LINK YANG DIGUNAKAN:</h2>`;
        html += `<div style="background: #eee; padding: 10px; word-break: break-all;">${window.location.href}</div>`;
        
        // Test dengan URL yang diberikan
        html += `<h2 style="margin-top:30px;">ğŸ§ª TEST MANUAL:</h2>`;
        html += `<div>params.get('media') = ${params.get('media')}</div>`;
        html += `<div>params.get('media2') = ${params.get('media2')}</div>`;
        html += `<div>params.get('media3') = ${params.get('media3')}</div>`;
        
        output.innerHTML = html;
        
        // Log ke console juga
        console.log('ğŸ“Š MEDIA LIST:', mediaList);
        console.log('ğŸ“Œ ALL PARAMS:', Object.fromEntries(params));
    </script>
</body>
</html>
